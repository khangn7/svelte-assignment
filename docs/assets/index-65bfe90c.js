(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function f(){}function oe(t){return t()}function Z(){return Object.create(null)}function B(t){t.forEach(oe)}function ie(t){return typeof t=="function"}function I(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ue(t){return Object.keys(t).length===0}function d(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function W(t){return document.createTextNode(t)}function v(){return W(" ")}function le(){return W("")}function C(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ae(t){return Array.from(t.childNodes)}function fe(t,e){e=""+e,t.data!==e&&(t.data=e)}function F(t,e){t.value=e??""}function de(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,s,e),r}let J;function G(t){J=t}function pe(){if(!J)throw new Error("Function called outside component initialization");return J}function z(){const t=pe();return(e,n,{cancelable:s=!1}={})=>{const r=t.$$.callbacks[e];if(r){const i=de(e,n,{cancelable:s});return r.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function me(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(s=>s.call(this,e))}const A=[],ee=[];let M=[];const te=[],_e=Promise.resolve();let Q=!1;function ge(){Q||(Q=!0,_e.then(ce))}function V(t){M.push(t)}const R=new Set;let L=0;function ce(){if(L!==0)return;const t=J;do{try{for(;L<A.length;){const e=A[L];L++,G(e),he(e.$$)}}catch(e){throw A.length=0,L=0,e}for(G(null),A.length=0,L=0;ee.length;)ee.pop()();for(let e=0;e<M.length;e+=1){const n=M[e];R.has(n)||(R.add(n),n())}M.length=0}while(A.length);for(;te.length;)te.pop()();Q=!1,R.clear(),G(t)}function he(t){if(t.fragment!==null){t.update(),B(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(V)}}function $e(t){const e=[],n=[];M.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),M=e}const D=new Set;let T;function be(){T={r:0,c:[],p:T}}function ye(){T.r||B(T.c),T=T.p}function x(t,e){t&&t.i&&(D.delete(t),t.i(e))}function w(t,e,n,s){if(t&&t.o){if(D.has(t))return;D.add(t),T.c.push(()=>{D.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function N(t){t&&t.c()}function S(t,e,n,s){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),s||V(()=>{const o=t.$$.on_mount.map(oe).filter(ie);t.$$.on_destroy?t.$$.on_destroy.push(...o):B(o),t.$$.on_mount=[]}),i.forEach(V)}function k(t,e){const n=t.$$;n.fragment!==null&&($e(n.after_update),B(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ve(t,e){t.$$.dirty[0]===-1&&(A.push(t),ge(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function O(t,e,n,s,r,i,o,c=[-1]){const l=J;G(t);const u=t.$$={fragment:null,ctx:[],props:i,update:f,not_equal:r,bound:Z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Z(),dirty:c,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let a=!1;if(u.ctx=n?n(t,e.props||{},(p,h,...g)=>{const E=g.length?g[0]:h;return u.ctx&&r(u.ctx[p],u.ctx[p]=E)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](E),a&&ve(t,p)),h}):[],u.update(),a=!0,B(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const p=ae(e.target);u.fragment&&u.fragment.l(p),p.forEach(b)}else u.fragment&&u.fragment.c();e.intro&&x(t.$$.fragment),S(t,e.target,e.anchor,e.customElement),ce()}G(l)}class j{$destroy(){k(this,1),this.$destroy=f}$on(e,n){if(!ie(n))return f;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!ue(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function xe(t){let e,n,s;return{c(){e=_("button"),e.textContent="start",m(e,"class","svelte-1wenho9")},m(r,i){y(r,e,i),n||(s=C(e,"click",t[0]),n=!0)},p:f,i:f,o:f,d(r){r&&b(e),n=!1,s()}}}function we(t){const e=z();function n(){e("message",{text:"start"})}return[n]}class Ee extends j{constructor(e){super(),O(this,e,we,xe,I,{})}}function Se(t){let e;return{c(){e=_("div"),e.innerHTML=`<p class="svelte-3g0kel">a ui for a temporary text storage 
        <br/> 
        with a json storage api
        <br/> 
        <br/>
        api: https://jsonblob.com/api
        <br/> 
        <br/>
        text is only saved for 30 days<br/> after last edit<br/> 
        <br/>
        
        this assignment focuses less on css <br/>and more on 
        
        svelte binding, componentization <br/>component events and messages</p>`},m(n,s){y(n,e,s)},p:f,i:f,o:f,d(n){n&&b(e)}}}class ke extends j{constructor(e){super(),O(this,e,null,Se,I,{})}}function Ce(t){let e,n,s,r,i;return n=new ke({}),r=new Ee({}),r.$on("message",t[0]),{c(){e=_("div"),N(n.$$.fragment),s=v(),N(r.$$.fragment),m(e,"class","svelte-195uwti")},m(o,c){y(o,e,c),S(n,e,null),d(e,s),S(r,e,null),i=!0},p:f,i(o){i||(x(n.$$.fragment,o),x(r.$$.fragment,o),i=!0)},o(o){w(n.$$.fragment,o),w(r.$$.fragment,o),i=!1},d(o){o&&b(e),k(n),k(r)}}}function Ie(t){function e(n){me.call(this,t,n)}return[e]}class Oe extends j{constructor(e){super(),O(this,e,Ie,Ce,I,{})}}const je="https://jsonblob.com/api/jsonBlob",Ne={post:{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({})},get:{method:"GET",headers:{accept:"application/json","Content-Type":"application/json"}},put:{method:"PUT",headers:{accept:"application/json","Content-Type":"application/json"},body:0}};async function X(t,e,n){let s=JSON.parse(JSON.stringify(Ne[t]));t==="put"&&(s.body=JSON.stringify(n));let r;return r=await fetch(je+e,s),t==="post"?r.headers.get("Location"):await r.json()}function Te(t){let e,n,s;return{c(){e=_("button"),e.textContent="save"},m(r,i){y(r,e,i),n||(s=C(e,"click",t[0]),n=!0)},p:f,i:f,o:f,d(r){r&&b(e),n=!1,s()}}}function ne(){return document.getElementById("blobId").innerHTML}function Le(t){const e=z(),n=["no id","invalid id","successful id"];function s(i){e("message",{text:n[i]})}async function r(){if(ne().slice(0,1)==="n"){s(0);return}(await X("put","/"+ne(),{0:document.getElementById("textarea").value}))[0]?s(2):s(1)}return[r]}class Ae extends j{constructor(e){super(),O(this,e,Le,Te,I,{})}}function re(t){let e,n,s,r,i,o,c,l,u,a,p,h;return{c(){e=_("div"),n=_("p"),n.textContent="create a new file or enter an existing file id",s=v(),r=_("button"),r.textContent="new file",i=_("span"),i.textContent="Â creates a new file",o=_("br"),c=v(),l=_("button"),l.textContent="enter",u=v(),a=_("input"),m(r,"id","new-file-button"),m(l,"id","enter-button"),m(a,"type","text"),m(a,"placeholder","id..."),m(a,"class","svelte-zre0lw"),m(e,"id","user-input-id")},m(g,E){y(g,e,E),d(e,n),d(e,s),d(e,r),d(e,i),d(e,o),d(e,c),d(e,l),d(e,u),d(e,a),F(a,t[1]),p||(h=[C(r,"click",t[3]),C(l,"click",t[4]),C(a,"input",t[5])],p=!0)},p(g,E){E&2&&a.value!==g[1]&&F(a,g[1])},d(g){g&&b(e),p=!1,B(h)}}}function Me(t){let e,n,s,r,i,o=t[0]&&re(t);return{c(){e=_("button"),e.textContent="choose file",n=v(),o&&o.c(),s=le()},m(c,l){y(c,e,l),y(c,n,l),o&&o.m(c,l),y(c,s,l),r||(i=C(e,"click",t[2]),r=!0)},p(c,[l]){c[0]?o?o.p(c,l):(o=re(c),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i:f,o:f,d(c){c&&b(e),c&&b(n),o&&o.d(c),c&&b(s),r=!1,i()}}}function Be(t,e,n){const s=z(),r=["file chosen","file created"];function i(h){s("message",{text:r[h]})}let o=!1,c="";function l(){n(0,o=!o)}async function u(){let h=await X("post","",{});h=h.slice(h.lastIndexOf("/")+1),document.getElementById("blobId").innerHTML=h,i(1),n(0,o=!o)}function a(){document.getElementById("blobId").innerHTML=c,i(0),n(0,o=!o)}function p(){c=this.value,n(1,c)}return[o,c,l,u,a,p]}class He extends j{constructor(e){super(),O(this,e,Be,Me,I,{})}}function Pe(t){let e,n,s;return{c(){e=_("textarea"),m(e,"id","textarea"),m(e,"placeholder","write your text here..."),m(e,"class","svelte-1b1lswo")},m(r,i){y(r,e,i),F(e,t[0]),n||(s=C(e,"input",t[1]),n=!0)},p(r,[i]){i&1&&F(e,r[0])},i:f,o:f,d(r){r&&b(e),n=!1,s()}}}function Ge(t,e,n){let s="";function r(){s=this.value,n(0,s)}return[s,r]}class Je extends j{constructor(e){super(),O(this,e,Ge,Pe,I,{})}}function ze(t){let e,n,s;return{c(){e=_("button"),e.textContent="retrieve file",m(e,"id","retrieve-button")},m(r,i){y(r,e,i),n||(s=C(e,"click",t[0]),n=!0)},p:f,i:f,o:f,d(r){r&&b(e),n=!1,s()}}}function se(){return document.getElementById("blobId").innerHTML}function De(t){const e=z(),n=["no id","invalid id"];function s(i){e("message",{text:n[i]})}async function r(){if(se().slice(0,1)==="n"){s(0);return}let i=await X("get","/"+se(),0);if(!i[0]){s(1);return}document.getElementById("textarea").value=i[0]}return[r]}class Fe extends j{constructor(e){super(),O(this,e,De,ze,I,{})}}function Ue(t){let e,n,s,r,i,o,c,l,u,a,p,h,g,E,H,U,P,q,Y;return r=new Je({}),o=new Ae({}),o.$on("message",t[1]),l=new Fe({}),l.$on("message",t[1]),g=new He({}),g.$on("message",t[1]),{c(){e=_("div"),n=_("button"),n.textContent="go back",s=v(),N(r.$$.fragment),i=v(),N(o.$$.fragment),c=v(),N(l.$$.fragment),u=v(),a=_("span"),a.textContent="file id:",p=_("p"),p.textContent=`${qe}`,h=v(),N(g.$$.fragment),E=v(),H=_("p"),U=W(t[0]),m(n,"id","goback-button"),m(n,"class","svelte-1grx95i"),m(a,"class","svelte-1grx95i"),m(p,"id","blobId"),m(p,"class","svelte-1grx95i"),m(H,"id","error-message"),m(H,"class","svelte-1grx95i"),m(e,"class","svelte-1grx95i")},m($,K){y($,e,K),d(e,n),d(e,s),S(r,e,null),d(e,i),S(o,e,null),d(e,c),S(l,e,null),d(e,u),d(e,a),d(e,p),d(e,h),S(g,e,null),d(e,E),d(e,H),d(H,U),P=!0,q||(Y=C(n,"click",t[2]),q=!0)},p($,[K]){(!P||K&1)&&fe(U,$[0])},i($){P||(x(r.$$.fragment,$),x(o.$$.fragment,$),x(l.$$.fragment,$),x(g.$$.fragment,$),P=!0)},o($){w(r.$$.fragment,$),w(o.$$.fragment,$),w(l.$$.fragment,$),w(g.$$.fragment,$),P=!1},d($){$&&b(e),k(r),k(o),k(l),k(g),q=!1,Y()}}}let qe="no file selected";function Ke(t,e,n){const s=z();let r="";const i={"no id":()=>{n(0,r="please choose an existing file with the 'choose file' button"),setTimeout(()=>{n(0,r="")},3e3)},"file created":()=>{n(0,r="remember the number above to visit the file again with the input field next time")},"file chosen":()=>{},"invalid id":()=>{n(0,r="the file id number you entered is invalid"),setTimeout(()=>{n(0,r="")},3e3)},"successful id":()=>{n(0,r="save successful"),setTimeout(()=>{n(0,r="")},3e3)}};function o(l){console.log(l.detail.text),i[l.detail.text]()}function c(){s("message",{text:"start"})}return[r,o,c]}class Re extends j{constructor(e){super(),O(this,e,Ke,Ue,I,{})}}function Qe(t){let e,n;return e=new Oe({}),e.$on("message",t[1]),{c(){N(e.$$.fragment)},m(s,r){S(e,s,r),n=!0},p:f,i(s){n||(x(e.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function Ve(t){let e,n;return e=new Re({}),e.$on("message",t[1]),{c(){N(e.$$.fragment)},m(s,r){S(e,s,r),n=!0},p:f,i(s){n||(x(e.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function We(t){let e,n,s,r;const i=[Ve,Qe],o=[];function c(l,u){return l[0]?0:1}return e=c(t),n=o[e]=i[e](t),{c(){n.c(),s=le()},m(l,u){o[e].m(l,u),y(l,s,u),r=!0},p(l,[u]){let a=e;e=c(l),e===a?o[e].p(l,u):(be(),w(o[a],1,1,()=>{o[a]=null}),ye(),n=o[e],n?n.p(l,u):(n=o[e]=i[e](l),n.c()),x(n,1),n.m(s.parentNode,s))},i(l){r||(x(n),r=!0)},o(l){w(n),r=!1},d(l){o[e].d(l),l&&b(s)}}}function Xe(t,e,n){const s={start:()=>{n(0,i=!i)}};function r(o){s[o.detail.text]()}let i=!1;return[i,r]}class Ye extends j{constructor(e){super(),O(this,e,Xe,We,I,{})}}new Ye({target:document.getElementById("app")});
